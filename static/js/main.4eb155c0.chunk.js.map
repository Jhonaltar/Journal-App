{"version":3,"sources":["types/types.js","reducers/notesReducer.js","reducers/uiReducer.js","store/store.js","reducers/auth.Reducer.js","hooks/useForm.js","firebase/firebase-config.js","helpers/fileUpload.js","helpers/loadNotes.js","actions/notes.js","actions/ui.js","actions/auth.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PrivateRoute.js","routers/PublicRoute.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/journal/JournalScreen.js","routers/AppRouter.js","JournalApp.js","index.js"],"names":["types","initialState","notes","active","loading","msgError","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","auth","state","action","type","uid","payload","name","displayName","ui","map","note","id","filter","store","createStore","applyMiddleware","thunk","useForm","useState","values","setValues","reset","newFormState","handleInputChange","target","value","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","GoogleAuthProvider","fileUpload","file","a","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","loadNotes","collection","orderBy","get","notesSnap","forEach","snapHijo","push","data","addNewNote","activeNote","startLoadingNotes","dispatch","setNotes","startSaveNote","getState","url","noteToFirestore","doc","update","refrestNote","Swal","fire","title","deleteNote","setError","err","startLoading","finishLoading","login","logout","LoginScreen","useDispatch","useSelector","formValues","email","password","className","onSubmit","e","preventDefault","signInWithEmailAndPassword","then","user","catch","console","log","message","startLoginEmailPassword","placeholder","autoComplete","onChange","disabled","style","marginRight","onClick","signInWithPopup","src","alt","to","RegisterScreen","password2","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","AuthRouter","exact","path","component","PrivateRoute","isAuthenticated","Component","rest","props","prototype","PropTypes","bool","isRequired","func","PublicRoute","NotesAppBar","date","moment","format","display","files","text","allowOutsideClick","showConfirmButton","willOpen","showLoading","fileUrl","close","startUploading","document","querySelector","click","NoteScreen","activeId","useRef","activeUrl","useEffect","current","delete","icon","timer","startDeleting","NothingSelected","JournalEntry","noteDate","backgroundSize","backgroundImage","JournalEntries","Sidebar","signOut","newNote","Date","getTime","add","JournalScreen","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","justifyContent","alignItems","height","color","width","JournalApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4eb155c0.chunk.js","sourcesContent":["export const types = {\r\n  login: \"[Auth] Login\",\r\n  logout: \"[Auth] Logout\",\r\n\r\n  uiSetError: \"[UI] Set Error\",\r\n  uiRemoveError: \"[UI] Remove Error\",\r\n\r\n  uiStartLoading: \"[UI] Start loading\",\r\n  uiFinishLoading: \"[UI] Finish loading\",\r\n\r\n  notesAddNew: \"[Notes] New note\",\r\n  notesActive: \"[Notes] Set active note\",\r\n  notesLoad: \"[Notes] Load note\",\r\n  notesUpdated: \"[Notes] Updated note\",\r\n  notesFileUrl: \"[Notes] Updated image url\",\r\n  notesDelete: \"[Notes] Delete note\",\r\n  notesLogoutCleaning: \"[Notes] Logout cleaning\",\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  notes: [],\r\n  active: null,\r\n};\r\n\r\nexport const notesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.notesActive:\r\n      return {\r\n        ...state,\r\n        active: {\r\n          ...action.payload,\r\n        },\r\n      };\r\n\r\n    case types.notesAddNew:\r\n      return {\r\n        ...state,\r\n        notes: [action.payload, ...state.notes],\r\n      };\r\n\r\n    case types.notesLoad:\r\n      return {\r\n        ...state,\r\n        notes: [...action.payload],\r\n      };\r\n\r\n    case types.notesUpdated:\r\n      return {\r\n        ...state,\r\n        notes: state.notes.map((note) =>\r\n          note.id === action.payload.id ? action.payload.note : note\r\n        ),\r\n      };\r\n\r\n    case types.notesDelete:\r\n      return {\r\n        ...state,\r\n        active: null,\r\n        notes: state.notes.filter((note) => note.id !== action.payload),\r\n      };\r\n\r\n    case types.notesLogoutCleaning:\r\n      return {\r\n        ...state,\r\n        active: null,\r\n        notes: [],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  msgError: null,\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.uiSetError:\r\n      return {\r\n        ...state,\r\n        msgError: action.payload,\r\n      };\r\n    case types.uiRemoveError:\r\n      return {\r\n        ...state,\r\n        msgError: null,\r\n      };\r\n    case types.uiStartLoading:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.uiFinishLoading:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport { authReducer } from \"../reducers/auth.Reducer\";\r\nimport { notesReducer } from \"../reducers/notesReducer\";\r\nimport { uiReducer } from \"../reducers/uiReducer\";\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst reducers = combineReducers({\r\n  auth: authReducer,\r\n  ui: uiReducer,\r\n  notes: notesReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import { types } from \"../types/types\";\r\n\r\nexport const authReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.login:\r\n      return {\r\n        uid: action.payload.uid,\r\n        name: action.payload.displayName,\r\n      };\r\n\r\n    case types.logout:\r\n      return {};\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = (newFormState = initialState) => {\r\n    setValues(newFormState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","import firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCtok4f8235K9w9a5vuxmyHrDIy4PRnp9k\",\r\n\r\n  authDomain: \"react-app-cursos-c0d45.firebaseapp.com\",\r\n\r\n  projectId: \"react-app-cursos-c0d45\",\r\n\r\n  storageBucket: \"react-app-cursos-c0d45.appspot.com\",\r\n\r\n  messagingSenderId: \"351597367706\",\r\n\r\n  appId: \"1:351597367706:web:1e0b629d3625b7f08aaa23\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { db, googleAuthProvider, firebase };\r\n","export const fileUpload = async (file) => {\r\n  const cloudUrl = \"https://api.cloudinary.com/v1_1/dzpqjw7oy/upload\";\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"upload_preset\", \"react-journal\");\r\n  formData.append(\"file\", file);\r\n\r\n  try {\r\n    const resp = await fetch(cloudUrl, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n    if (resp.ok) {\r\n      const cloudResp = await resp.json();\r\n      return cloudResp.secure_url;\r\n    } else {\r\n      throw await resp.json();\r\n    }\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","import { db } from \"../firebase/firebase-config\";\r\n\r\nexport const loadNotes = async (uid) => {\r\n  const notesSnap = await db\r\n    .collection(`${uid}/journal/notes`)\r\n    .orderBy(\"date\", \"desc\")\r\n    .get();\r\n  const notes = [];\r\n  notesSnap.forEach((snapHijo) => {\r\n    notes.push({\r\n      id: snapHijo.id,\r\n      ...snapHijo.data(),\r\n    });\r\n  });\r\n  return notes;\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { db } from \"../firebase/firebase-config\";\r\nimport { fileUpload } from \"../helpers/fileUpload\";\r\nimport { loadNotes } from \"../helpers/loadNotes\";\r\nimport { types } from \"../types/types\";\r\n\r\n//crear notas\r\nexport const startNewNote = () => {\r\n  return async (dispatch, getState) => {\r\n    const { uid } = getState().auth;\r\n    const newNote = {\r\n      title: \"\",\r\n      body: \"\",\r\n      date: new Date().getTime(),\r\n    };\r\n\r\n    const doc = await db.collection(`${uid}/journal/notes`).add(newNote);\r\n    dispatch(activeNote(doc.id, newNote));\r\n    dispatch(addNewNote(doc.id, newNote));\r\n  };\r\n};\r\n\r\nexport const addNewNote = (id, note) => ({\r\n  type: types.notesAddNew,\r\n  payload: {\r\n    id,\r\n    ...note,\r\n  },\r\n});\r\n\r\nexport const activeNote = (id, note) => ({\r\n  type: types.notesActive,\r\n  payload: {\r\n    id,\r\n    ...note,\r\n  },\r\n});\r\n\r\n//leer notas\r\n\r\nexport const startLoadingNotes = (uid) => {\r\n  return async (dispatch) => {\r\n    const notes = await loadNotes(uid);\r\n    dispatch(setNotes(notes));\r\n  };\r\n};\r\n\r\nexport const setNotes = (notes) => ({\r\n  type: types.notesLoad,\r\n  payload: notes,\r\n});\r\n\r\n//Guardar nota\r\nexport const startSaveNote = (note) => {\r\n  return async (dispatch, getState) => {\r\n    const { uid } = getState().auth;\r\n\r\n    if (!note.url) {\r\n      delete note.url;\r\n    }\r\n    const noteToFirestore = { ...note };\r\n    delete noteToFirestore.id;\r\n    await db.doc(`${uid}/journal/notes/${note.id}`).update(noteToFirestore);\r\n    dispatch(refrestNote(note.id, noteToFirestore));\r\n    Swal.fire(\"Actualizado\", note.title, \"success\");\r\n  };\r\n};\r\n\r\nexport const refrestNote = (id, note) => ({\r\n  type: types.notesUpdated,\r\n  payload: {\r\n    id,\r\n    note: {\r\n      id,\r\n      ...note,\r\n    },\r\n  },\r\n});\r\n\r\n// subir picture\r\nexport const startUploading = (file) => {\r\n  return async (dispatch, getState) => {\r\n    const { active: activeNote } = getState().notes;\r\n\r\n    Swal.fire({\r\n      title: \"Subiendo...\",\r\n      text: \"Por favor espere...\",\r\n      allowOutsideClick: false,\r\n      showConfirmButton: false,\r\n      willOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    const fileUrl = await fileUpload(file);\r\n    activeNote.url = fileUrl;\r\n\r\n    dispatch(startSaveNote(activeNote));\r\n\r\n    Swal.close();\r\n  };\r\n};\r\n\r\n// Delete\r\nexport const startDeleting = (id) => {\r\n  return async (dispatch, getState) => {\r\n    const uid = getState().auth.uid;\r\n    await db.doc(`${uid}/journal/notes/${id}`).delete();\r\n    dispatch(deleteNote(id));\r\n    Swal.fire({\r\n      icon: \"success\",\r\n      title: \"Eliminado correctamente\",\r\n      showConfirmButton: false,\r\n      timer: 1500,\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteNote = (id) => ({\r\n  type: types.notesDelete,\r\n  payload: id,\r\n});\r\n\r\n//Limpair notas cuando cierra sesion\r\n\r\nexport const noteLogout = () => ({\r\n  type: types.notesLogoutCleaning,\r\n});\r\n","import { types } from \"../types/types\";\r\n\r\nexport const setError = (err) => ({\r\n  type: types.uiSetError,\r\n  payload: err,\r\n});\r\nexport const RemoveError = () => ({\r\n  type: types.uiRemoveError,\r\n});\r\n\r\nexport const startLoading = () => ({\r\n  type: types.uiStartLoading,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: types.uiFinishLoading,\r\n});\r\n","import Swal from \"sweetalert2\";\r\nimport { googleAuthProvider, firebase } from \"../firebase/firebase-config\";\r\nimport { types } from \"../types/types\";\r\nimport { noteLogout } from \"./notes\";\r\nimport { finishLoading, startLoading } from \"./ui\";\r\n\r\nexport const startLoginEmailPassword = (email, password) => {\r\n  return (dispatch) => {\r\n    dispatch(startLoading());\r\n\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(({ user }) => {\r\n        dispatch(login(user.uid, user.displayName));\r\n        dispatch(finishLoading());\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        dispatch(finishLoading());\r\n        Swal.fire(\"Error\", e.message, \"error\");\r\n      });\r\n  };\r\n};\r\n\r\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\r\n  return (dispatch) => {\r\n    dispatch(startLoading());\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(async ({ user }) => {\r\n        await user.updateProfile({ displayName: name });\r\n        dispatch(login(user.uid, user.displayName));\r\n        dispatch(finishLoading());\r\n      })\r\n      .catch((e) => {\r\n        console.log(e.message);\r\n        dispatch(finishLoading());\r\n        Swal.fire(\"Error\", e.message, \"error\");\r\n      });\r\n  };\r\n};\r\n\r\nexport const startGoogleLogin = () => {\r\n  return (dispatch) => {\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(googleAuthProvider)\r\n      .then(({ user }) => {\r\n        dispatch(login(user.uid, user.displayName));\r\n      });\r\n  };\r\n};\r\n\r\nexport const login = (uid, displayName) => ({\r\n  type: types.login,\r\n  payload: {\r\n    uid,\r\n    displayName,\r\n  },\r\n});\r\n\r\nexport const startLogout = () => {\r\n  return async (dispatch) => {\r\n    await firebase.auth().signOut();\r\n\r\n    dispatch(logout());\r\n    dispatch(noteLogout());\r\n  };\r\n};\r\n\r\nexport const logout = () => ({\r\n  type: types.logout,\r\n});\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { startGoogleLogin, startLoginEmailPassword } from \"../../actions/auth\";\r\n\r\nexport const LoginScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { loading } = useSelector((state) => state.ui);\r\n\r\n  const [formValues, handleInputChange] = useForm({});\r\n\r\n  const { email, password } = formValues;\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    dispatch(startLoginEmailPassword(email, password));\r\n  };\r\n\r\n  const handleGoogleLogin = () => {\r\n    dispatch(startGoogleLogin());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"auth__title\">Login</h3>\r\n      <form\r\n        onSubmit={handleLogin}\r\n        className=\"animate__animated animate__fadeIn animate_faster \"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          className=\"auth__input\"\r\n          autoComplete=\"off\"\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          className=\"auth__input\"\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button\r\n          className=\"btn btn-primary btn-block\"\r\n          type=\"submit\"\r\n          disabled={loading}\r\n        >\r\n          {loading && (\r\n            <i\r\n              className=\"fa fa-refresh fa-spin\"\r\n              style={{ marginRight: \"5px\" }}\r\n            />\r\n          )}\r\n\r\n          {!loading && <span>Login</span>}\r\n        </button>\r\n\r\n        <div className=\"auth__social-networks\">\r\n          <p>Login con Google</p>\r\n          <div className=\"google-btn\" onClick={handleGoogleLogin}>\r\n            <div className=\"google-icon-wrapper\">\r\n              <img\r\n                className=\"google-icon\"\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n                alt=\"google button\"\r\n              />\r\n            </div>\r\n            <p className=\"btn-text\">\r\n              <b>Sign in with google</b>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <Link className=\"link\" to=\"/auth/register\">\r\n          Create new account\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport validator from \"validator\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { RemoveError, setError } from \"../../actions/ui\";\r\nimport { startRegisterWithEmailPasswordName } from \"../../actions/auth\";\r\n\r\nexport const RegisterScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { msgError, loading } = useSelector((state) => state.ui);\r\n\r\n  const [formValues, handleInputChange] = useForm({});\r\n\r\n  const { name, email, password, password2 } = formValues;\r\n\r\n  const handleRegister = (e) => {\r\n    e.preventDefault();\r\n    if (isFormValid()) {\r\n      dispatch(startRegisterWithEmailPasswordName(email, password, name));\r\n    }\r\n  };\r\n\r\n  const isFormValid = () => {\r\n    if (name.trim().length === 0) {\r\n      dispatch(setError(\"Name is required\"));\r\n\r\n      return false;\r\n    } else if (!validator.isEmail(email)) {\r\n      dispatch(setError(\"Email is no valid\"));\r\n      return false;\r\n    } else if (password !== password2 || password.length < 5) {\r\n      dispatch(\r\n        setError(\r\n          \"Password should be at least 6 characters and match each other\"\r\n        )\r\n      );\r\n      return false;\r\n    }\r\n    dispatch(RemoveError());\r\n    return true;\r\n  };\r\n\r\n  //HTML\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"auth__title\">Register</h3>\r\n      <form\r\n        onSubmit={handleRegister}\r\n        className=\"animate__animated animate__fadeIn animate_faster \"\r\n      >\r\n        {msgError && <div className=\"auth__alert-error\">{msgError}</div>}\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          name=\"name\"\r\n          className=\"auth__input\"\r\n          autoComplete=\"off\"\r\n          value={name}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          className=\"auth__input\"\r\n          autoComplete=\"off\"\r\n          value={email}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          className=\"auth__input\"\r\n          value={password}\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password\"\r\n          name=\"password2\"\r\n          className=\"auth__input\"\r\n          value={password2}\r\n          onChange={handleInputChange}\r\n        />\r\n        <button\r\n          className=\"btn btn-primary btn-block mb-5\"\r\n          type=\"submit\"\r\n          disabled={loading}\r\n        >\r\n          {loading && (\r\n            <i\r\n              className=\"fa fa-refresh fa-spin\"\r\n              style={{ marginRight: \"5px\" }}\r\n            />\r\n          )}\r\n          {!loading && <span>Register</span>}\r\n        </button>\r\n\r\n        <Link className=\"link\" to=\"/auth/login\">\r\n          Already registerd?\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\r\nexport const AuthRouter = () => {\r\n  return (\r\n    <div className=\"auth__main\">\r\n      <div className=\"auth__box-container\">\r\n        <Switch>\r\n          <Route exact path=\"/auth/login\" component={LoginScreen} />\r\n          <Route exact path=\"/auth/register\" component={RegisterScreen} />\r\n\r\n          <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to=\"/auth/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRoute.prototype = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PublicRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        !isAuthenticated ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPublicRoute.prototype = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startSaveNote, startUploading } from \"../../actions/notes\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport const NotesAppBar = () => {\r\n  const dispatch = useDispatch();\r\n  const { active } = useSelector((state) => state.notes);\r\n  const date = moment(active.date);\r\n\r\n  const handleSave = () => {\r\n    dispatch(startSaveNote(active));\r\n  };\r\n\r\n  const handlePictureClick = () => {\r\n    document.querySelector(\"#fileSelector\").click();\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      dispatch(startUploading(file));\r\n      document.querySelector(\"#fileSelector\").value = \"\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"notes__appbar\">\r\n      <span> {date.format(\"LL\")}</span>\r\n\r\n      <input\r\n        id=\"fileSelector\"\r\n        type=\"file\"\r\n        style={{ display: \"none\" }}\r\n        onChange={handleFileChange}\r\n      />\r\n\r\n      <div>\r\n        <button className=\"btn\" onClick={handlePictureClick}>\r\n          Picture\r\n        </button>\r\n        <button className=\"btn\" onClick={handleSave}>\r\n          Save\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { activeNote, startDeleting } from \"../../actions/notes\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { NotesAppBar } from \"./NotesAppBar\";\r\n\r\nexport const NoteScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { active: note } = useSelector((state) => state.notes);\r\n  const [formValues, handleInputChange, reset] = useForm(note);\r\n  const { body, title, id } = formValues;\r\n\r\n  const activeId = useRef(note.id);\r\n  const activeUrl = useRef(note.url);\r\n\r\n  useEffect(() => {\r\n    if (note.id !== activeId.current) {\r\n      reset(note);\r\n      activeId.current = note.id;\r\n    }\r\n    if (note.url !== activeUrl.current) {\r\n      reset(note);\r\n      activeUrl.current = note.url;\r\n    }\r\n  }, [note, reset]);\r\n\r\n  useEffect(() => {\r\n    dispatch(activeNote(formValues.id, { ...formValues }));\r\n  }, [formValues, dispatch]);\r\n\r\n  const handleDelete = () => {\r\n    dispatch(startDeleting(id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"notes__main-content animate__animated animate__fadeIn animate_faster\">\r\n      <NotesAppBar />\r\n\r\n      <div className=\"notes__content\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Some awesome title\"\r\n          className=\"notes__title-input\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <textarea\r\n          placeholder=\"What happened today\"\r\n          className=\"notes__textarea\"\r\n          name=\"body\"\r\n          value={body}\r\n          onChange={handleInputChange}\r\n        ></textarea>\r\n\r\n        {note.url && (\r\n          <div className=\"notes__image\">\r\n            <img src={note.url} alt=\"imagen\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <button className=\"btn btn-danger\" onClick={handleDelete}>\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const NothingSelected = () => {\r\n  return (\r\n    <div className=\"nothing__main-content\">\r\n      <p>\r\n        Select something\r\n        <br />\r\n        or create an entry\r\n      </p>\r\n      <i className=\"far fa-star fa-4x mt-5\"></i>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { activeNote } from \"../../actions/notes\";\r\n\r\nexport const JournalEntry = ({ id, date, title, body, url }) => {\r\n  const noteDate = moment(date);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEntryClick = () => {\r\n    dispatch(\r\n      activeNote(id, {\r\n        date,\r\n        title,\r\n        body,\r\n        url,\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"journal__entry pointer animate__animated animate__fadeIn animate_faster\"\r\n      onClick={handleEntryClick}\r\n    >\r\n      {url && (\r\n        <div\r\n          className=\"journal__entry-picture\"\r\n          style={{\r\n            backgroundSize: \"cover\",\r\n            backgroundImage: `url(${url})`,\r\n          }}\r\n        ></div>\r\n      )}\r\n      <div className=\"journal__entry-body\">\r\n        <p className=\"journal__entry-title\">{title}</p>\r\n        <p className=\"journal__entry-content\">{body}</p>\r\n      </div>\r\n      <div className=\"journal__entry-date-box\">\r\n        <span>{noteDate.format(\"dddd\")}</span>\r\n        <h4>{noteDate.format(\"Do\")}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { JournalEntry } from \"./JournalEntry\";\r\n\r\nexport const JournalEntries = () => {\r\n  const { notes } = useSelector((state) => state.notes);\r\n\r\n  return (\r\n    <div className=\"journal__entries\">\r\n      {notes.map((note) => (\r\n        <JournalEntry key={note.id} {...note} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { startNewNote } from \"../../actions/notes\";\r\nimport { JournalEntries } from \"./JournalEntries\";\r\n\r\nexport const Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { name } = useSelector((state) => state.auth);\r\n\r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n  };\r\n\r\n  const handleAddNew = () => {\r\n    dispatch(startNewNote());\r\n  };\r\n\r\n  return (\r\n    <aside className=\"journal__sidebar\">\r\n      <div className=\"journal__sidebar-navbar\">\r\n        <h3 className=\"mt-5\">\r\n          <i className=\"far fa-moon\"></i>\r\n          <span> {name} </span>\r\n        </h3>\r\n\r\n        <button className=\"btn\" onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n      <div className=\"journal__new-entry\" onClick={handleAddNew}>\r\n        <i className=\"far fa-calendar-plus fa-5x\"></i>\r\n        <p className=\"mt-5\">New entry</p>\r\n      </div>\r\n\r\n      <JournalEntries />\r\n    </aside>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NoteScreen } from \"../notes/NoteScreen\";\r\nimport { NothingSelected } from \"./NothingSelected\";\r\nimport { Sidebar } from \"./Sidebar\";\r\n\r\nexport const JournalScreen = () => {\r\n  const { active } = useSelector((state) => state.notes);\r\n\r\n  return (\r\n    <div className=\"journal__main-content animate__animated animate__fadeIn animate_faste\">\r\n      <Sidebar />\r\n      <main>{active ? <NoteScreen /> : <NothingSelected />}</main>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { AuthRouter } from \"./AuthRouter\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { firebase } from \"../firebase/firebase-config\";\r\n\r\nimport { JournalScreen } from \"../components/journal/JournalScreen\";\r\nimport { login } from \"../actions/auth\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { startLoadingNotes } from \"../actions/notes\";\r\n\r\nexport const AppRouter = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [checking, setChecking] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged(async (user) => {\r\n      if (user?.uid) {\r\n        dispatch(login(user.uid, user.displayName));\r\n        setIsLoggedIn(true);\r\n\r\n        dispatch(startLoadingNotes(user.uid));\r\n      } else {\r\n        setIsLoggedIn(false);\r\n      }\r\n      setChecking(false);\r\n    });\r\n  }, [dispatch, setChecking, setIsLoggedIn]);\r\n\r\n  if (checking) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"750px\",\r\n        }}\r\n      >\r\n        <ReactLoading type={\"spin\"} color={\"#5c62c5\"} height={50} width={50} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <PublicRoute\r\n            isAuthenticated={isLoggedIn}\r\n            path=\"/auth\"\r\n            component={AuthRouter}\r\n          />\r\n          <PrivateRoute\r\n            isAuthenticated={isLoggedIn}\r\n            exact\r\n            path=\"/\"\r\n            component={JournalScreen}\r\n          />\r\n\r\n          <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store/store\";\n\nimport { AppRouter } from \"./routers/AppRouter\";\n\nexport const JournalApp = () => {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { JournalApp } from \"./JournalApp\";\n\nimport \"./styles/styles.scss\";\n\nReactDOM.render(<JournalApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}